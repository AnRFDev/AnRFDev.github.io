System.register("chunks:///_virtual/animalCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./gameInfo.ts"],(function(t){"use strict";var s,i,o,e,a,n,r,h,c;return{setters:[function(t){s=t.inheritsLoose,i=t.defineProperty,o=t.assertThisInitialized},function(t){e=t.cclegacy,a=t._decorator,n=t.AnimationComponent,r=t.Vec3,h=t.Component},function(t){c=t.GameVersionInfo}],execute:function(){var u;e._RF.push({},"39590WGuq5DM67Mvdmry+of","animalCtrl",void 0);var m=a.ccclass;a.property,t("animalCtrl",m("animalCtrl")(u=function(t){function e(){for(var s,e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return s=t.call.apply(t,[this].concat(a))||this,i(o(s),"animalId",1),i(o(s),"curPos",new r),i(o(s),"targetPos",new r),i(o(s),"nextTurnTime",1200),i(o(s),"moveRate",.8),i(o(s),"moveDistance",50),i(o(s),"moveStatus",0),s}s(e,t);var a=e.prototype;return a.start=function(){this.node.getPosition(this.curPos),this.targetPos=this.curPos.clone();var t=this;setTimeout(function(){t.randMove()}.bind(this),this.nextTurnTime/3)},a.update=function(t){if(this.node.getPosition(this.curPos),1==this.moveStatus)if(this.curPos.equals(this.targetPos)){this.moveStatus=0,this.getComponent(n).stop();var s=this;setTimeout(function(){s.randMove()}.bind(this),this.nextTurnTime)}else{var i=this.targetPos.x-this.curPos.x,o=this.targetPos.y-this.curPos.y,e=50*t;0==i?(e>Math.abs(o)&&(e=o),e=o>0?Math.abs(e):-Math.abs(e),this.curPos.y+=e):0==o&&(e>Math.abs(i)&&(e=i),e=i>0?Math.abs(e):-Math.abs(e),this.curPos.x+=e),this.node.setPosition(this.curPos)}else this.moveStatus},a.randMove=function(){var t=this.getComponent(n);if(Math.random()>this.moveRate){this.moveStatus=0;var s=this;return setTimeout(function(){s.randMove()}.bind(this),this.nextTurnTime),void t.stop()}var i=Math.random();this.targetPos=this.curPos.clone(),i>.75?(this.targetPos.x+=this.moveDistance,t.play("cowRight")):i>.5?(this.targetPos.y-=this.moveDistance,t.play("cowDown")):i>.25?(this.targetPos.x-=this.moveDistance,t.play("cowLeft")):(this.targetPos.y+=this.moveDistance,t.play("cowUp")),this.targetPos.x=Math.min(this.targetPos.x,460),this.targetPos.x=Math.max(this.targetPos.x,-460),this.targetPos.y=Math.min(this.targetPos.y,300),this.targetPos.y=Math.max(this.targetPos.y,-300),this.moveStatus=1},a.onClickMe=function(){console.log("点击了",this.animalId),cocosAnalytics.CACustomEvent.onStarted("clickAnimal",{gameVersionName:c.name})},e}(h))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/findAnimal.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./gameInfo.ts","./animalCtrl.ts"],(function(n){"use strict";var e,t,a,i,o,r,s,l,c,m,u,f,p,d,h,b;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,a=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){o=n.cclegacy,r=n._decorator,s=n.CameraComponent,l=n.Prefab,c=n.LabelComponent,m=n.instantiate,u=n.Vec3,f=n.sys,p=n.Component},function(n){d=n.GameVersionInfo,h=n.GameCtrl},function(n){b=n.animalCtrl}],execute:function(){var v,g,y,A,C,L,M,w,D;o._RF.push({},"580f8/JRDhKZa7S5tr+VMuL","findAnimal",void 0);var I=r.ccclass,P=r.property;n("findAnimal",(v=I("findAnimal"),g=P(s),y=P(l),A=P(c),v((M=e((L=function(n){function e(){for(var e,t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return e=n.call.apply(n,[this].concat(o))||this,a(i(e),"mainCamera",M,i(e)),a(i(e),"animalPrefab",w,i(e)),a(i(e),"versionLb",D,i(e)),e}t(e,n);var o=e.prototype;return o.start=function(){this.genCows(),this.initAnalyse(),this.versionLb.string="v"+d.name},o.update=function(n){},o.addAnimalNode=function(n,e,t,a){var i=m(this.animalPrefab);this.node.addChild(i),i.setPosition(n);var o=i.getComponent(b);o&&(o.animalId=h.getNextAnimalId(),o.moveRate=e,o.nextTurnTime=t,o.moveDistance=a)},o.genCows=function(){for(var n=0;n<5;n++){var e=Math.max(.5,Math.random());this.addAnimalNode(new u(300*Math.random()-100,300*Math.random()-100,0),e,4200*Math.random()+400,100*Math.random()+40)}},o.goWeb=function(){var n="https://an.rustfisher.com/cocos/creator/g/dev-2d-game/";f.openURL(n),cocosAnalytics.CACustomEvent.onStarted("openAnRFWeb",{gameVersionName:d.name,openWeb:n})},o.initAnalyse=function(){console.log("cocosAnalytics init");var n={appID:"642225840",appSecret:"",channel:"an.rustfisher.com",version:d.name,storeID:"0001",engine:"cocos",callNumber:""};cocosAnalytics.init(n)},e}(p)).prototype,"mainCamera",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(L.prototype,"animalPrefab",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(L.prototype,"versionLb",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=L))||C));o._RF.pop()}}}));

System.register("chunks:///_virtual/moveCamera.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var a,t,r,n,o,i,m,s,c,C,u;return{setters:[function(e){a=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized,o=e.defineProperty},function(e){i=e.cclegacy,m=e._decorator,s=e.CameraComponent,c=e.Vec3,C=e.Input,u=e.Component}],execute:function(){var l,p,P,y,f;i._RF.push({},"849e9JYQlJKcpWsUGIsqpf/","moveCamera",void 0);var h=m.ccclass,v=m.property;e("moveCamera",(l=h("moveCamera"),p=v(s),l((f=a((y=function(e){function a(){for(var a,t=arguments.length,i=new Array(t),m=0;m<t;m++)i[m]=arguments[m];return a=e.call.apply(e,[this].concat(i))||this,r(n(a),"mainCamera",f,n(a)),o(n(a),"mCameraPos",new c),a}t(a,e);var i=a.prototype;return i.start=function(){},i.initCameraCtrl=function(){var e=this;this.node.on(C.EventType.TOUCH_START,function(a){e.mainCamera.node.getPosition(e.mCameraPos)}.bind(this)),this.node.on(C.EventType.TOUCH_MOVE,function(a){e.mCameraPos.x-=a.getDeltaX(),e.mCameraPos.y-=a.getDeltaY(),e.mCameraPos.x=Math.max(-70,e.mCameraPos.x),e.mCameraPos.x=Math.min(70,e.mCameraPos.x),e.mCameraPos.y=Math.max(-60,e.mCameraPos.y),e.mCameraPos.y=Math.min(60,e.mCameraPos.y),e.mainCamera.node.setPosition(e.mCameraPos)}.bind(this))},a}(u)).prototype,"mainCamera",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=y))||P));i._RF.pop()}}}));

System.register("chunks:///_virtual/gameInfo.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var n,t;return{setters:[function(e){n=e.defineProperty},function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"e378dicrApMj6fq7tIvL5T0","gameInfo",void 0);e("GameVersionInfo",{name:"0.0.2",code:2});var r=e("GameCtrl",function(){function e(){}return e.getNextAnimalId=function(){return this.animalId++},e}());n(r,"animalId",0),t._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./gameInfo.ts","./animalCtrl.ts","./findAnimal.ts","./moveCamera.ts"],(function(){"use strict";return{setters:[null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});